{% extends "base.html" %}

{% block head %}
<link rel="stylesheet" href="/static/css/music.css">
{% endblock %}

{% block title %}–°–ª—É—à–∞—Ç—å –º—É–∑—ã–∫—É{% endblock %}

{% block content %}
<section class="music-hero">
    <h1>üéµ –°–ª—É—à–∞—Ç—å –º—É–∑—ã–∫—É</h1>
    <p>–ü–æ–ø—É–ª—è—Ä–Ω—ã–µ —Ç—Ä–µ–∫–∏</p>
</section>

{% if popular_tracks %}
<section class="tracks-section">
    <div class="tracks-grid">
        {% for track in popular_tracks %}
        <div class="track-card" data-track-id="{{ track.id }}_{{ track.albums[0].id if track.albums else track.id }}">
            <div class="track-image">
                {% if track.cover_uri %}
                <img src="https://{{ track.cover_uri.replace('%%', '300x300') }}" alt="{{ track.title }}" class="track-cover">
                {% else %}
                <div class="track-placeholder">üéµ</div>
                {% endif %}
            </div>
            
            <div class="track-info">
                <h3 class="track-title">{{ track.title }}</h3>
                <p class="track-artist">
                    {% for artist in track.artists %}
                    {{ artist.name }}{% if not loop.last %}, {% endif %}
                    {% endfor %}
                </p>
            </div>
            
            <button class="play-btn" onclick="playTrack(this)">‚ñ∂</button>
        </div>
        {% endfor %}
    </div>
</section>
{% endif %}

<!-- –ê–£–î–ò–û –ü–õ–ï–ï–† -->
<div class="audio-player" id="audioPlayer" style="display: none;">
    <audio controls class="audio-element" id="audioElement">
        –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ —ç–ª–µ–º–µ–Ω—Ç—ã.
    </audio>
    <div class="now-playing" id="nowPlaying"></div>
</div>

<script src="/static/js/music.js"></script>
{% endblock %}